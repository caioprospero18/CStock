<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .header { background: #2c3e50; color: white; padding: 20px; text-align: center; }
        .summary { background: #f8f9fa; padding: 15px; margin: 20px 0; border-radius: 5px; }
        .table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .table th, .table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .table th { background-color: #34495e; color: white; }
        .positive { color: #27ae60; font-weight: bold; }
        .negative { color: #e74c3c; font-weight: bold; }
        .footer { margin-top: 30px; padding: 20px; background: #ecf0f1; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
		<div class="header">
		    <h1 th:text="${report.reportType == 'DIARIO'} ? 
		        'üìä Relat√≥rio Di√°rio - ' + ${enterprise.name} : 
		        'üìà Relat√≥rio Mensal - ' + ${enterprise.name}">
		        Relat√≥rio
		    </h1>
		    <p th:text="${enterprise.name} + ' - ' + 
		        (${report.reportType == 'DIARIO'} ? 
		        'Relat√≥rio de movimenta√ß√µes do dia anterior' : 
		        'Relat√≥rio mensal completo')">
		    </p>
		</div>
        
        <div class="summary">
            <h3>Resumo Financeiro</h3>
            <p><strong>Faturamento Total:</strong> 
                <span class="positive" th:text="${formatCurrency.format(report.totalRevenue)}">R$ 0,00</span>
            </p>
            <p><strong>Gastos Totais:</strong> 
                <span class="negative" th:text="${formatCurrency.format(report.totalExpenses)}">R$ 0,00</span>
            </p>
            <p><strong>Lucro L√≠quido:</strong> 
                <span th:class="${report.netProfit.compareTo(java.math.BigDecimal.ZERO) >= 0} ? 'positive' : 'negative'"
                      th:text="${formatCurrency.format(report.netProfit)}">R$ 0,00</span>
            </p>
            <p><strong>Total de Entradas:</strong> <span th:text="${report.totalEntries}">0</span></p>
            <p><strong>Total de Sa√≠das:</strong> <span th:text="${report.totalExits}">0</span></p>
        </div>
        
        <h3>Movimenta√ß√µes Detalhadas</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Produto</th>
                    <th>Tipo</th>
                    <th>Quantidade</th>
                    <th>Valor Unit√°rio</th>
                    <th>Valor Total</th>
                    <th>Data/Hora</th>
                    <th>Usu√°rio</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="movement : ${report.movements}">
                    <td th:text="${movement.productName}">Produto</td>
                    <td>
                        <span th:if="${movement.movementType == 'ENTRY'}" style="color: #e74c3c;">‚¨ÜÔ∏è ENTRADA</span>
                        <span th:if="${movement.movementType == 'EXIT'}" style="color: #27ae60;">‚¨áÔ∏è SA√çDA</span>
                    </td>
                    <td th:text="${movement.quantity}">0</td>
                    <td th:text="${formatCurrency.format(movement.unitPrice)}">R$ 0,00</td>
                    <td th:text="${formatCurrency.format(movement.totalValue)}">R$ 0,00</td>
                    <td th:text="${movement.movementDate}">00/00/0000 00:00</td>
                    <td th:text="${movement.userName}">Usu√°rio</td>
                </tr>
            </tbody>
        </table>
        
        <div class="footer">
            <p><strong>CStock System</strong></p>
            <p>Relat√≥rio gerado automaticamente em <span th:text="${#dates.format(#dates.createNow(), 'dd/MM/yyyy HH:mm')}"></span></p>
            <p><small>Este √© um email autom√°tico, por favor n√£o responda.</small></p>
        </div>
    </div>
</body>
</html>