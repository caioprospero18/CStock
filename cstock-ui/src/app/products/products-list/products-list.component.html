<div class="list">
  <div class="products-container">
    <p-table [value]="products" responsiveLayout="stack" [breakpoint]="'768px'">
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Nome</th>
          <th>Marca</th>
          <th>Quantidade</th>
          <th>Valor unitário</th>
          <th>Valor total</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>{{ product.id }}</td>
          <td>{{ product.productName }}</td>
          <td>{{ product.brand }}</td>
          <td>{{ product.quantity }}</td>
          <td>R$ {{ product.unitValue }}</td>
          <td>R$ {{ product.totalValue }}</td>
          <td>
            <a href="/products/update">Alterar</a>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="7" class="custom-table-empty">
            <p>Nenhum produto cadastrado.</p>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div class="fixed-footer-buttons">
    <button pButton label="Registrar produto" (click)="showRegisterForm()"></button>
    <button pButton label="Registrar saída" (click)="showStockExitForm()"></button>
    <button pButton label="Registrar entrada" (click)="showStockEntryForm()"></button>
    <button pButton label="Registrar pedido" (click)="showOrderRequestForm()"></button>
    <a pButton label="Registrar usuário" (click)="showRegisterUserForm()"></a>
    <a pButton label="Registrar empresa"></a>
  </div>
</div>

<div class="form-product-register">
  <p-confirmDialog
    [style]="{width: '600px'}"
    [baseZIndex]="10000">
  </p-confirmDialog>

  <div class="form-overlay" [class.visible]="showProductForm">
    <div class="form-container">
      <app-product-register
        (onSave)="onProductSaved($event)"
        (onCancel)="showProductForm = false">
      </app-product-register>
    </div>
  </div>
</div>

<div class="form-stock-entry">
  <p-confirmDialog
    [style]="{width: '600px'}"
    [baseZIndex]="10000">
  </p-confirmDialog>

  <div class="form-overlay" [class.visible]="showEntryForm">
    <div class="form-container">
      <app-stock-entry
        (onSave)="onEntrySaved($event)"
        (onCancel)="showEntryForm = false">
      </app-stock-entry>
    </div>
  </div>
</div>

<div class="form-stock-exit">
  <p-confirmDialog
    [style]="{width: '600px'}"
    [baseZIndex]="10000">
  </p-confirmDialog>

  <div class="form-overlay" [class.visible]="showExitForm">
    <div class="form-container">
      <app-stock-exit
        (onSave)="onExitSaved($event)"
        (onCancel)="showExitForm = false">
      </app-stock-exit>
    </div>
  </div>
</div>

<div class="form-order-request">
  <p-confirmDialog
    [style]="{width: '600px'}"
    [baseZIndex]="10000">
  </p-confirmDialog>

  <div class="form-overlay" [class.visible]="showOrderForm">
    <div class="form-container">
      <app-order-request
        (onSave)="onOrderRequestSaved($event)"
        (onCancel)="showOrderForm = false">
      </app-order-request>
    </div>
  </div>
</div>

<div class="form-register-user">
  <p-confirmDialog
    styleClass="custom-confirm-dialog"
    [baseZIndex]="10000">
  </p-confirmDialog>

  <div class="form-overlay" [class.visible]="showUserForm">
    <div class="form-container">
      <app-user-register
        (onSave)="onRegisterUserSaved($event)"
        (onCancel)="showUserForm = false">
      </app-user-register>
    </div>
  </div>
</div>


